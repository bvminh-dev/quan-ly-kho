{"openapi":"3.0.0","paths":{"/api/v1":{"get":{"operationId":"AppController_getServerStatus_api/v1","parameters":[],"responses":{"200":{"description":"Server is running"}},"summary":"Check server status","tags":["App"]}},"/api/v1/auth/signin":{"post":{"operationId":"AuthController_signin_api/v1","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SigninDto"}}}},"responses":{"201":{"description":"Đăng nhập thành công, trả về accessToken và thông tin user","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SigninResponseDto"}}}},"401":{"description":"Email hoặc mật khẩu không đúng"}},"summary":"Đăng nhập hệ thống","tags":["Auth"]}},"/api/v1/auth/refresh":{"get":{"operationId":"AuthController_refreshToken_api/v1","parameters":[],"responses":{"200":{"description":"Refresh token thành công, trả về accessToken mới","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RefreshTokenResponseDto"}}}},"401":{"description":"Refresh token không hợp lệ hoặc đã hết hạn"}},"summary":"Làm mới accessToken bằng refreshToken từ cookie","tags":["Auth"]}},"/api/v1/auth/logout":{"post":{"operationId":"AuthController_logout_api/v1","parameters":[],"responses":{"200":{"description":"Đăng xuất thành công","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LogoutResponseDto"}}}},"401":{"description":"Chưa đăng nhập"}},"summary":"Đăng xuất, xóa refreshToken khỏi cookie và DB","tags":["Auth"]}},"/api/v1/auth/account":{"get":{"operationId":"AuthController_getAccount_api/v1","parameters":[],"responses":{"200":{"description":"Trả về thông tin tài khoản hiện tại","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AccountResponseDto"}}}},"401":{"description":"Chưa đăng nhập"}},"summary":"Lấy thông tin tài khoản đang đăng nhập","tags":["Auth"]}},"/api/v1/users":{"post":{"operationId":"UserController_create_api/v1","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUserDto"}}}},"responses":{"201":{"description":"Tạo user thành công","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUserResponseDto"}}}},"400":{"description":"Dữ liệu không hợp lệ hoặc email đã tồn tại"},"401":{"description":"Chưa đăng nhập"}},"summary":"Tạo user mới (chỉ Admin)","tags":["Users"]},"get":{"operationId":"UserController_findAll_api/v1","parameters":[{"name":"current","required":false,"in":"query","description":"Số trang hiện tại (mặc định: 1)","schema":{"example":1,"type":"number"}},{"name":"pageSize","required":false,"in":"query","description":"Số lượng bản ghi mỗi trang (mặc định: 10)","schema":{"example":10,"type":"number"}},{"name":"queryString","required":false,"in":"query","description":"Điều kiện query để tìm kiếm (ví dụ: name=John, email=john@example.com)","schema":{"example":"name=John","type":"string"}},{"name":"sort","required":false,"in":"query","description":"Sắp xếp theo field (ví dụ: -createdAt để giảm dần, createdAt để tăng dần)","schema":{"example":"-createdAt","type":"string"}}],"responses":{"200":{"description":"Trả về danh sách user với phân trang","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetUsersResponseDto"}}}},"401":{"description":"Chưa đăng nhập"}},"summary":"Lấy danh sách user có phân trang","tags":["Users"]}},"/api/v1/users/{id}":{"get":{"operationId":"UserController_findOne_api/v1","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Trả về thông tin user","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetUserResponseDto"}}}},"401":{"description":"Chưa đăng nhập"},"404":{"description":"Không tìm thấy user"}},"summary":"Lấy thông tin user theo ID","tags":["Users"]},"patch":{"operationId":"UserController_update_api/v1","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserDto"}}}},"responses":{"200":{"description":"Cập nhật user thành công","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateUserResponseDto"}}}},"400":{"description":"Dữ liệu không hợp lệ"},"401":{"description":"Chưa đăng nhập"},"404":{"description":"Không tìm thấy user"}},"summary":"Cập nhật thông tin user","tags":["Users"]},"delete":{"operationId":"UserController_remove_api/v1","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Xóa user thành công","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeleteUserResponseDto"}}}},"401":{"description":"Chưa đăng nhập"},"403":{"description":"Chỉ Admin mới có quyền xóa"},"404":{"description":"Không tìm thấy user"}},"summary":"Xóa user (soft delete, chỉ Admin)","tags":["Users"]}},"/api/v1/users/password/update":{"patch":{"operationId":"UserController_updatePassword_api/v1","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdatePasswordDto"}}}},"responses":{"200":{"description":"Đổi mật khẩu thành công","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdatePasswordResponseDto"}}}},"400":{"description":"Mật khẩu hiện tại không đúng"},"401":{"description":"Chưa đăng nhập"}},"summary":"Đổi mật khẩu (user tự đổi)","tags":["Users"]}},"/api/v1/users/password/reset":{"patch":{"operationId":"UserController_resetPassword_api/v1","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResetPasswordDto"}}}},"responses":{"200":{"description":"Reset mật khẩu thành công","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResetPasswordResponseDto"}}}},"400":{"description":"Dữ liệu không hợp lệ"},"401":{"description":"Chưa đăng nhập"}},"summary":"Reset mật khẩu user (chỉ Admin)","tags":["Users"]}},"/api/v1/roles":{"post":{"operationId":"RoleController_create_api/v1","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateRoleDto"}}}},"responses":{"201":{"description":"Tạo role thành công","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateRoleResponseDto"}}}},"400":{"description":"Dữ liệu không hợp lệ hoặc role đã tồn tại"},"401":{"description":"Chưa đăng nhập"}},"summary":"Tạo role mới","tags":["Roles"]},"get":{"operationId":"RoleController_findAll_api/v1","parameters":[{"name":"current","required":false,"in":"query","description":"Số trang hiện tại (mặc định: 1)","schema":{"example":1,"type":"number"}},{"name":"pageSize","required":false,"in":"query","description":"Số lượng bản ghi mỗi trang (mặc định: 10)","schema":{"example":10,"type":"number"}},{"name":"queryString","required":false,"in":"query","description":"Điều kiện query để tìm kiếm (ví dụ: name=admin)","schema":{"example":"name=admin","type":"string"}},{"name":"sort","required":false,"in":"query","description":"Sắp xếp theo field (ví dụ: -createdAt để giảm dần, createdAt để tăng dần)","schema":{"example":"-createdAt","type":"string"}}],"responses":{"200":{"description":"Trả về danh sách role với phân trang","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetRolesResponseDto"}}}},"401":{"description":"Chưa đăng nhập"}},"summary":"Lấy danh sách role có phân trang","tags":["Roles"]}},"/api/v1/roles/{id}":{"get":{"operationId":"RoleController_findOne_api/v1","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Trả về thông tin role","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetRoleResponseDto"}}}},"401":{"description":"Chưa đăng nhập"},"404":{"description":"Không tìm thấy role"}},"summary":"Lấy thông tin role theo ID","tags":["Roles"]},"patch":{"operationId":"RoleController_update_api/v1","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateRoleDto"}}}},"responses":{"200":{"description":"Cập nhật role thành công","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateRoleResponseDto"}}}},"400":{"description":"Dữ liệu không hợp lệ"},"401":{"description":"Chưa đăng nhập"},"404":{"description":"Không tìm thấy role"}},"summary":"Cập nhật role","tags":["Roles"]},"delete":{"operationId":"RoleController_remove_api/v1","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Xóa role thành công","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeleteRoleResponseDto"}}}},"400":{"description":"Không thể xóa role admin"},"401":{"description":"Chưa đăng nhập"},"403":{"description":"Chỉ Admin mới có quyền xóa"},"404":{"description":"Không tìm thấy role"}},"summary":"Xóa role (soft delete, chỉ Admin, không được xóa admin role)","tags":["Roles"]}},"/api/v1/permissions":{"post":{"operationId":"PermissionController_create_api/v1","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreatePermissionDto"}}}},"responses":{"201":{"description":"Tạo permission thành công","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreatePermissionResponseDto"}}}},"400":{"description":"Dữ liệu không hợp lệ"},"401":{"description":"Chưa đăng nhập"}},"summary":"Tạo permission mới","tags":["Permissions"]},"get":{"operationId":"PermissionController_findAll_api/v1","parameters":[{"name":"current","required":false,"in":"query","description":"Số trang hiện tại (mặc định: 1)","schema":{"example":1,"type":"number"}},{"name":"pageSize","required":false,"in":"query","description":"Số lượng bản ghi mỗi trang (mặc định: 10)","schema":{"example":10,"type":"number"}},{"name":"queryString","required":false,"in":"query","description":"Điều kiện query để tìm kiếm (ví dụ: name=read:user)","schema":{"example":"name=read:user","type":"string"}},{"name":"sort","required":false,"in":"query","description":"Sắp xếp theo field (ví dụ: -createdAt để giảm dần, createdAt để tăng dần)","schema":{"example":"-createdAt","type":"string"}}],"responses":{"200":{"description":"Trả về danh sách permission với phân trang","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetPermissionsResponseDto"}}}},"401":{"description":"Chưa đăng nhập"}},"summary":"Lấy danh sách permission có phân trang","tags":["Permissions"]}},"/api/v1/permissions/{id}":{"get":{"operationId":"PermissionController_findOne_api/v1","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Trả về thông tin permission","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetPermissionResponseDto"}}}},"401":{"description":"Chưa đăng nhập"},"404":{"description":"Không tìm thấy permission"}},"summary":"Lấy thông tin permission theo ID","tags":["Permissions"]},"patch":{"operationId":"PermissionController_update_api/v1","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdatePermissionDto"}}}},"responses":{"200":{"description":"Cập nhật permission thành công","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdatePermissionResponseDto"}}}},"400":{"description":"Dữ liệu không hợp lệ"},"401":{"description":"Chưa đăng nhập"},"404":{"description":"Không tìm thấy permission"}},"summary":"Cập nhật permission","tags":["Permissions"]},"delete":{"operationId":"PermissionController_remove_api/v1","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Xóa permission thành công","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeletePermissionResponseDto"}}}},"401":{"description":"Chưa đăng nhập"},"403":{"description":"Chỉ Admin mới có quyền xóa"},"404":{"description":"Không tìm thấy permission"}},"summary":"Xóa permission (soft delete, chỉ Admin)","tags":["Permissions"]}},"/api/v1/customers":{"post":{"operationId":"CustomerController_create_api/v1","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCustomerDto"}}}},"responses":{"201":{"description":"Tạo customer thành công","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateCustomerResponseDto"}}}},"400":{"description":"Dữ liệu không hợp lệ hoặc tên đã tồn tại"},"401":{"description":"Chưa đăng nhập"}},"summary":"Tạo customer mới","tags":["Customers"]},"get":{"operationId":"CustomerController_findAll_api/v1","parameters":[{"name":"current","required":false,"in":"query","description":"Số trang hiện tại (mặc định: 1)","schema":{"example":1,"type":"number"}},{"name":"pageSize","required":false,"in":"query","description":"Số lượng bản ghi mỗi trang (mặc định: 10)","schema":{"example":10,"type":"number"}},{"name":"queryString","required":false,"in":"query","description":"Điều kiện query để tìm kiếm (ví dụ: name=John, email=john@example.com)","schema":{"example":"name=John","type":"string"}},{"name":"sort","required":false,"in":"query","description":"Sắp xếp theo field (ví dụ: -createdAt để giảm dần, createdAt để tăng dần)","schema":{"example":"-createdAt","type":"string"}}],"responses":{"200":{"description":"Trả về danh sách customer","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetCustomersResponseDto"}}}},"401":{"description":"Chưa đăng nhập"}},"summary":"Lấy danh sách customer có phân trang","tags":["Customers"]}},"/api/v1/customers/{id}":{"get":{"operationId":"CustomerController_findOne_api/v1","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Trả về thông tin customer","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetCustomerResponseDto"}}}},"401":{"description":"Chưa đăng nhập"},"404":{"description":"Không tìm thấy customer"}},"summary":"Lấy thông tin customer theo ID","tags":["Customers"]},"patch":{"operationId":"CustomerController_update_api/v1","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateCustomerDto"}}}},"responses":{"200":{"description":"Cập nhật customer thành công","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateCustomerResponseDto"}}}},"400":{"description":"Dữ liệu không hợp lệ"},"401":{"description":"Chưa đăng nhập"},"404":{"description":"Không tìm thấy customer"}},"summary":"Cập nhật thông tin customer","tags":["Customers"]},"delete":{"operationId":"CustomerController_remove_api/v1","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Xóa customer thành công","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeleteCustomerResponseDto"}}}},"401":{"description":"Chưa đăng nhập"},"403":{"description":"Chỉ Admin mới có quyền xóa"},"404":{"description":"Không tìm thấy customer"}},"summary":"Xóa customer (soft delete, chỉ Admin)","tags":["Customers"]}},"/api/v1/warehouses":{"post":{"operationId":"WarehouseController_create_api/v1","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateWarehouseDto"}}}},"responses":{"201":{"description":"Tạo warehouse thành công","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateWarehouseResponseDto"}}}},"400":{"description":"Dữ liệu không hợp lệ"},"401":{"description":"Chưa đăng nhập"}},"summary":"Tạo warehouse mới","tags":["Warehouses"]},"get":{"operationId":"WarehouseController_findAll_api/v1","parameters":[{"name":"current","required":false,"in":"query","description":"Số trang hiện tại (mặc định: 1)","schema":{"example":1,"type":"number"}},{"name":"pageSize","required":false,"in":"query","description":"Số lượng bản ghi mỗi trang (mặc định: 10)","schema":{"example":10,"type":"number"}},{"name":"queryString","required":false,"in":"query","description":"Điều kiện query để tìm kiếm (ví dụ: name=Kho A, address=Hà Nội)","schema":{"example":"name=Kho A","type":"string"}},{"name":"sort","required":false,"in":"query","description":"Sắp xếp theo field (ví dụ: -createdAt để giảm dần, createdAt để tăng dần)","schema":{"example":"-createdAt","type":"string"}}],"responses":{"200":{"description":"Trả về danh sách warehouse","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetWarehousesResponseDto"}}}},"401":{"description":"Chưa đăng nhập"}},"summary":"Lấy danh sách warehouse có phân trang","tags":["Warehouses"]}},"/api/v1/warehouses/{id}":{"get":{"operationId":"WarehouseController_findOne_api/v1","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Trả về thông tin warehouse","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetWarehouseResponseDto"}}}},"401":{"description":"Chưa đăng nhập"},"404":{"description":"Không tìm thấy warehouse"}},"summary":"Lấy thông tin warehouse theo ID","tags":["Warehouses"]},"patch":{"operationId":"WarehouseController_update_api/v1","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateWarehouseDto"}}}},"responses":{"200":{"description":"Cập nhật warehouse thành công","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateWarehouseResponseDto"}}}},"400":{"description":"Dữ liệu không hợp lệ"},"401":{"description":"Chưa đăng nhập"},"403":{"description":"Chỉ Admin mới có quyền cập nhật"},"404":{"description":"Không tìm thấy warehouse"}},"summary":"Cập nhật thông tin warehouse (chỉ Admin)","tags":["Warehouses"]},"delete":{"operationId":"WarehouseController_remove_api/v1","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Xóa warehouse thành công","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeleteWarehouseResponseDto"}}}},"401":{"description":"Chưa đăng nhập"},"403":{"description":"Chỉ Admin mới có quyền xóa"},"404":{"description":"Không tìm thấy warehouse"}},"summary":"Xóa warehouse (soft delete, chỉ Admin)","tags":["Warehouses"]}},"/api/v1/warehouses/add-stock":{"post":{"operationId":"WarehouseController_addStock_api/v1","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddStockBodyDto"}}}},"responses":{"200":{"description":"Bổ sung hàng hóa thành công","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddStockResponseDto"}}}},"400":{"description":"Dữ liệu không hợp lệ"},"401":{"description":"Chưa đăng nhập"},"404":{"description":"Không tìm thấy warehouse"}},"summary":"Bổ sung hàng hóa vào warehouse","tags":["Warehouses"]}},"/api/v1/history-warehouse/enter":{"post":{"operationId":"HistoryWarehouseController_createEnter_api/v1","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateHistoryEnterDto"}}}},"responses":{"201":{"description":"Tạo history enter thành công","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateHistoryEnterResponseDto"}}}},"400":{"description":"Dữ liệu không hợp lệ"},"401":{"description":"Chưa đăng nhập"},"403":{"description":"Chỉ Admin mới có quyền tạo"}},"summary":"Tạo history enter mới (chỉ Admin)","tags":["History Warehouse"]},"get":{"operationId":"HistoryWarehouseController_findAllEnter_api/v1","parameters":[{"name":"current","required":false,"in":"query","description":"Số trang hiện tại (mặc định: 1)","schema":{"example":1,"type":"number"}},{"name":"pageSize","required":false,"in":"query","description":"Số lượng bản ghi mỗi trang (mặc định: 10)","schema":{"example":10,"type":"number"}},{"name":"queryString","required":false,"in":"query","description":"Điều kiện query để tìm kiếm (ví dụ: warehouseId=xxx, type=Tạo mới)","schema":{"example":"warehouseId=60d0fe4f5311236168a109ca","type":"string"}},{"name":"sort","required":false,"in":"query","description":"Sắp xếp theo field (ví dụ: -createdAt để giảm dần, createdAt để tăng dần)","schema":{"example":"-createdAt","type":"string"}}],"responses":{"200":{"description":"Trả về danh sách history enter","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetHistoryEntersResponseDto"}}}},"401":{"description":"Chưa đăng nhập"}},"summary":"Lấy danh sách history enter có phân trang","tags":["History Warehouse"]}},"/api/v1/history-warehouse/enter/{id}":{"get":{"operationId":"HistoryWarehouseController_findOneEnter_api/v1","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Trả về thông tin history enter","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetHistoryEnterResponseDto"}}}},"401":{"description":"Chưa đăng nhập"},"404":{"description":"Không tìm thấy history enter"}},"summary":"Lấy thông tin history enter theo ID","tags":["History Warehouse"]},"patch":{"operationId":"HistoryWarehouseController_updateEnter_api/v1","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateHistoryEnterDto"}}}},"responses":{"200":{"description":"Cập nhật history enter thành công","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateHistoryEnterResponseDto"}}}},"400":{"description":"Dữ liệu không hợp lệ"},"401":{"description":"Chưa đăng nhập"},"403":{"description":"Chỉ Admin mới có quyền cập nhật"},"404":{"description":"Không tìm thấy history enter"}},"summary":"Cập nhật thông tin history enter (chỉ Admin)","tags":["History Warehouse"]},"delete":{"operationId":"HistoryWarehouseController_removeEnter_api/v1","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Xóa history enter thành công","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeleteHistoryEnterResponseDto"}}}},"401":{"description":"Chưa đăng nhập"},"403":{"description":"Chỉ Admin mới có quyền xóa"},"404":{"description":"Không tìm thấy history enter"}},"summary":"Xóa history enter (soft delete, chỉ Admin)","tags":["History Warehouse"]}},"/api/v1/history-warehouse/export":{"post":{"operationId":"HistoryWarehouseController_createExport_api/v1","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateHistoryExportDto"}}}},"responses":{"201":{"description":"Tạo history export thành công","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateHistoryExportResponseDto"}}}},"400":{"description":"Dữ liệu không hợp lệ"},"401":{"description":"Chưa đăng nhập"},"403":{"description":"Chỉ Admin mới có quyền tạo"}},"summary":"Tạo history export mới (chỉ Admin)","tags":["History Warehouse"]},"get":{"operationId":"HistoryWarehouseController_findAllExport_api/v1","parameters":[{"name":"current","required":false,"in":"query","description":"Số trang hiện tại (mặc định: 1)","schema":{"example":1,"type":"number"}},{"name":"pageSize","required":false,"in":"query","description":"Số lượng bản ghi mỗi trang (mặc định: 10)","schema":{"example":10,"type":"number"}},{"name":"queryString","required":false,"in":"query","description":"Điều kiện query để tìm kiếm (ví dụ: warehouseId=xxx, orderId=xxx)","schema":{"example":"warehouseId=60d0fe4f5311236168a109ca","type":"string"}},{"name":"sort","required":false,"in":"query","description":"Sắp xếp theo field (ví dụ: -createdAt để giảm dần, createdAt để tăng dần)","schema":{"example":"-createdAt","type":"string"}}],"responses":{"200":{"description":"Trả về danh sách history export","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetHistoryExportsResponseDto"}}}},"401":{"description":"Chưa đăng nhập"}},"summary":"Lấy danh sách history export có phân trang","tags":["History Warehouse"]}},"/api/v1/history-warehouse/export/{id}":{"get":{"operationId":"HistoryWarehouseController_findOneExport_api/v1","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Trả về thông tin history export","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetHistoryExportResponseDto"}}}},"401":{"description":"Chưa đăng nhập"},"404":{"description":"Không tìm thấy history export"}},"summary":"Lấy thông tin history export theo ID","tags":["History Warehouse"]},"patch":{"operationId":"HistoryWarehouseController_updateExport_api/v1","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateHistoryExportDto"}}}},"responses":{"200":{"description":"Cập nhật history export thành công","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateHistoryExportResponseDto"}}}},"400":{"description":"Dữ liệu không hợp lệ"},"401":{"description":"Chưa đăng nhập"},"403":{"description":"Chỉ Admin mới có quyền cập nhật"},"404":{"description":"Không tìm thấy history export"}},"summary":"Cập nhật thông tin history export (chỉ Admin)","tags":["History Warehouse"]},"delete":{"operationId":"HistoryWarehouseController_removeExport_api/v1","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Xóa history export thành công","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeleteHistoryExportResponseDto"}}}},"401":{"description":"Chưa đăng nhập"},"403":{"description":"Chỉ Admin mới có quyền xóa"},"404":{"description":"Không tìm thấy history export"}},"summary":"Xóa history export (soft delete, chỉ Admin)","tags":["History Warehouse"]}},"/api/v1/orders":{"post":{"operationId":"OrderController_create_api/v1","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateOrderDto"}}}},"responses":{"201":{"description":"Tạo đơn hàng thành công","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateOrderResponseDto"}}}},"400":{"description":"Dữ liệu không hợp lệ"},"401":{"description":"Chưa đăng nhập"}},"summary":"Tạo đơn hàng mới (state mặc định: Báo giá)","tags":["Orders"]},"get":{"operationId":"OrderController_findAll_api/v1","parameters":[{"name":"current","required":false,"in":"query","description":"Số trang hiện tại (mặc định: 1)","schema":{"example":1,"type":"number"}},{"name":"pageSize","required":false,"in":"query","description":"Số lượng bản ghi mỗi trang (mặc định: 10)","schema":{"example":10,"type":"number"}},{"name":"queryString","required":false,"in":"query","description":"Điều kiện query để tìm kiếm (ví dụ: orderCode=ORD001, customer.name=John)","schema":{"example":"orderCode=ORD001","type":"string"}},{"name":"sort","required":false,"in":"query","description":"Sắp xếp theo field (ví dụ: -createdAt để giảm dần, createdAt để tăng dần)","schema":{"example":"-createdAt","type":"string"}}],"responses":{"200":{"description":"Trả về danh sách đơn hàng","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetOrdersResponseDto"}}}},"401":{"description":"Chưa đăng nhập"}},"summary":"Lấy danh sách đơn hàng có phân trang","tags":["Orders"]}},"/api/v1/orders/{id}":{"get":{"operationId":"OrderController_findOne_api/v1","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Trả về thông tin đơn hàng","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GetOrderResponseDto"}}}},"401":{"description":"Chưa đăng nhập"},"404":{"description":"Không tìm thấy đơn hàng"}},"summary":"Lấy thông tin đơn hàng theo ID","tags":["Orders"]},"patch":{"operationId":"OrderController_update_api/v1","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateOrderDto"}}}},"responses":{"200":{"description":"Cập nhật đơn hàng thành công","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateOrderResponseDto"}}}},"400":{"description":"Dữ liệu không hợp lệ"},"401":{"description":"Chưa đăng nhập"},"404":{"description":"Không tìm thấy đơn hàng"}},"summary":"Cập nhật đơn hàng (state chuyển sang chỉnh sửa nếu thay đổi products)","tags":["Orders"]},"delete":{"operationId":"OrderController_remove_api/v1","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Xóa đơn hàng thành công","content":{"application/json":{"schema":{"$ref":"#/components/schemas/DeleteOrderResponseDto"}}}},"401":{"description":"Chưa đăng nhập"},"403":{"description":"Chỉ Admin mới có quyền xóa"},"404":{"description":"Không tìm thấy đơn hàng"}},"summary":"Xóa đơn hàng (soft delete, chỉ Admin)","tags":["Orders"]}},"/api/v1/orders/{id}/history":{"post":{"operationId":"OrderController_addHistory_api/v1","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddHistoryDto"}}}},"responses":{"200":{"description":"Thêm lịch sử thành công","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AddHistoryResponseDto"}}}},"400":{"description":"Dữ liệu không hợp lệ"},"401":{"description":"Chưa đăng nhập"},"404":{"description":"Không tìm thấy đơn hàng"}},"summary":"Thêm lịch sử thanh toán cho đơn hàng","tags":["Orders"]}},"/api/v1/orders/{id}/confirm":{"patch":{"operationId":"OrderController_confirm_api/v1","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"responses":{"200":{"description":"Chốt đơn hàng thành công","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ConfirmOrderResponseDto"}}}},"400":{"description":"Không thể chốt đơn hàng"},"401":{"description":"Chưa đăng nhập"},"404":{"description":"Không tìm thấy đơn hàng"}},"summary":"Chốt đơn hàng (chuyển state sang đã chốt)","tags":["Orders"]}},"/api/v1/orders/{id}/revert":{"patch":{"operationId":"OrderController_revert_api/v1","parameters":[{"name":"id","required":true,"in":"path","schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RevertOrderDto"}}}},"responses":{"200":{"description":"Hoàn tác đơn hàng thành công","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RevertOrderResponseDto"}}}},"400":{"description":"Không thể hoàn tác đơn hàng"},"401":{"description":"Chưa đăng nhập"},"404":{"description":"Không tìm thấy đơn hàng"}},"summary":"Hoàn tác đơn hàng (trả lại hàng vào kho)","tags":["Orders"]}}},"info":{"title":"Quan Ly Kho BE","description":"API for Quan Ly Kho - Warehouse Management System","version":"1.0","contact":{}},"tags":[],"servers":[],"components":{"securitySchemes":{"token":{"scheme":"Bearer","bearerFormat":"JWT","type":"http","in":"header"}},"schemas":{"SigninDto":{"type":"object","properties":{"email":{"type":"string","example":"admin@example.com"},"password":{"type":"string","example":"123456"}},"required":["email","password"]},"SigninUserInfo":{"type":"object","properties":{"_id":{"type":"string","example":"60d0fe4f5311236168a109ca"},"name":{"type":"string","example":"Admin"},"email":{"type":"string","example":"admin@example.com"},"role":{"type":"object","example":{"_id":"60d0fe4f5311236168a109cb","name":"admin"}},"permissions":{"example":[{"_id":"60d0fe4f5311236168a109cc","name":"Create User","apiPath":"/api/v1/users","method":"POST","module":"users"}],"type":"array","items":{"type":"string"}}},"required":["_id","name","email","role","permissions"]},"SigninData":{"type":"object","properties":{"accessToken":{"type":"string","example":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."},"user":{"$ref":"#/components/schemas/SigninUserInfo"}},"required":["accessToken","user"]},"SigninResponseDto":{"type":"object","properties":{"statusCode":{"type":"number","example":201},"message":{"type":"string","example":"Signin User"},"data":{"$ref":"#/components/schemas/SigninData"}},"required":["statusCode","message","data"]},"RefreshTokenResponseDto":{"type":"object","properties":{"statusCode":{"type":"number","example":200},"message":{"type":"string","example":"Get User by refresh token"},"data":{"$ref":"#/components/schemas/SigninData"}},"required":["statusCode","message","data"]},"LogoutResponseDto":{"type":"object","properties":{"statusCode":{"type":"number","example":200},"message":{"type":"string","example":"Logout User"},"data":{"type":"string","example":"ok"}},"required":["statusCode","message","data"]},"AccountData":{"type":"object","properties":{"_id":{"type":"string","example":"60d0fe4f5311236168a109ca"},"name":{"type":"string","example":"Admin"},"email":{"type":"string","example":"admin@example.com"},"role":{"type":"object","example":{"_id":"60d0fe4f5311236168a109cb","name":"admin"}},"permissions":{"example":[{"_id":"60d0fe4f5311236168a109cc","name":"Create User","apiPath":"/api/v1/users","method":"POST","module":"users"}],"type":"array","items":{"type":"string"}}},"required":["_id","name","email","role","permissions"]},"AccountResponseDto":{"type":"object","properties":{"statusCode":{"type":"number","example":200},"message":{"type":"string","example":"Get account info"},"data":{"$ref":"#/components/schemas/AccountData"}},"required":["statusCode","message","data"]},"CreateUserDto":{"type":"object","properties":{"name":{"type":"string","example":"John Doe"},"email":{"type":"string","example":"john@example.com"},"password":{"type":"string","example":"123456"},"role":{"type":"string","example":"60d0fe4f5311236168a109ca"},"isActive":{"type":"boolean","example":true}},"required":["name","email","password","role"]},"UserItemDto":{"type":"object","properties":{"_id":{"type":"string","example":"60d0fe4f5311236168a109ca"},"name":{"type":"string","example":"John Doe"},"email":{"type":"string","example":"john@example.com"},"role":{"type":"string","example":"60d0fe4f5311236168a109cb"},"createdBy":{"type":"string","example":"60d0fe4f5311236168a109cc"},"updatedBy":{"type":"string","example":"60d0fe4f5311236168a109cc"},"isActive":{"type":"boolean","example":true},"isDeleted":{"type":"boolean","example":false},"createdAt":{"format":"date-time","type":"string","example":"2026-01-01T00:00:00.000Z"},"updatedAt":{"format":"date-time","type":"string","example":"2026-01-01T00:00:00.000Z"}},"required":["_id","name","email","role","createdBy","updatedBy","isActive","isDeleted","createdAt","updatedAt"]},"CreateUserResponseDto":{"type":"object","properties":{"statusCode":{"type":"number","example":201},"message":{"type":"string","example":"Create a new User"},"data":{"$ref":"#/components/schemas/UserItemDto"}},"required":["statusCode","message","data"]},"PaginationMetaDto":{"type":"object","properties":{"current":{"type":"number","example":1,"description":"Trang hiện tại"},"pageSize":{"type":"number","example":10,"description":"Số bản ghi mỗi trang"},"pages":{"type":"number","example":5,"description":"Tổng số trang"},"total":{"type":"number","example":50,"description":"Tổng số bản ghi"}},"required":["current","pageSize","pages","total"]},"UserListData":{"type":"object","properties":{"items":{"type":"array","items":{"$ref":"#/components/schemas/UserItemDto"}},"meta":{"$ref":"#/components/schemas/PaginationMetaDto"}},"required":["items","meta"]},"GetUsersResponseDto":{"type":"object","properties":{"statusCode":{"type":"number","example":200},"message":{"type":"string","example":"Fetch list User with paginate"},"data":{"$ref":"#/components/schemas/UserListData"}},"required":["statusCode","message","data"]},"GetUserResponseDto":{"type":"object","properties":{"statusCode":{"type":"number","example":200},"message":{"type":"string","example":"Fetch User by id"},"data":{"$ref":"#/components/schemas/UserItemDto"}},"required":["statusCode","message","data"]},"UpdateUserDto":{"type":"object","properties":{"name":{"type":"string","example":"John Doe"},"role":{"type":"string","example":"60d0fe4f5311236168a109ca"},"isActive":{"type":"boolean","example":true}}},"UpdateUserResponseDto":{"type":"object","properties":{"statusCode":{"type":"number","example":200},"message":{"type":"string","example":"Update a User"},"data":{"$ref":"#/components/schemas/UserItemDto"}},"required":["statusCode","message","data"]},"DeleteUserResponseDto":{"type":"object","properties":{"statusCode":{"type":"number","example":200},"message":{"type":"string","example":"Delete a User"},"data":{"$ref":"#/components/schemas/UserItemDto"}},"required":["statusCode","message","data"]},"UpdatePasswordDto":{"type":"object","properties":{"currentPassword":{"type":"string","example":"oldPassword123"},"newPassword":{"type":"string","example":"newPassword456"}},"required":["currentPassword","newPassword"]},"UpdatePasswordResponseDto":{"type":"object","properties":{"statusCode":{"type":"number","example":200},"message":{"type":"string","example":"Update password"},"data":{"type":"boolean","example":true}},"required":["statusCode","message","data"]},"ResetPasswordDto":{"type":"object","properties":{"userId":{"type":"string","example":"60d0fe4f5311236168a109ca"},"newPassword":{"type":"string","example":"newPassword456"}},"required":["userId","newPassword"]},"ResetPasswordResponseDto":{"type":"object","properties":{"statusCode":{"type":"number","example":200},"message":{"type":"string","example":"Reset password by Admin"},"data":{"type":"boolean","example":true}},"required":["statusCode","message","data"]},"CreateRoleDto":{"type":"object","properties":{"name":{"type":"string","example":"moderator"},"description":{"type":"string","example":"Moderator role"},"permissions":{"example":["60d0fe4f5311236168a109ca"],"type":"array","items":{"type":"string"}},"isActive":{"type":"boolean","example":true}},"required":["name"]},"RoleItemDto":{"type":"object","properties":{"_id":{"type":"string","example":"60d0fe4f5311236168a109ca"},"name":{"type":"string","example":"moderator"},"description":{"type":"string","example":"Moderator role"},"permissions":{"example":["60d0fe4f5311236168a109cb"],"type":"array","items":{"type":"string"}},"createdBy":{"type":"string","example":"60d0fe4f5311236168a109cc"},"updatedBy":{"type":"string","example":"60d0fe4f5311236168a109cc"},"isActive":{"type":"boolean","example":true},"isDeleted":{"type":"boolean","example":false},"createdAt":{"format":"date-time","type":"string","example":"2026-01-01T00:00:00.000Z"},"updatedAt":{"format":"date-time","type":"string","example":"2026-01-01T00:00:00.000Z"}},"required":["_id","name","description","permissions","createdBy","updatedBy","isActive","isDeleted","createdAt","updatedAt"]},"CreateRoleResponseDto":{"type":"object","properties":{"statusCode":{"type":"number","example":201},"message":{"type":"string","example":"Create a new Role"},"data":{"$ref":"#/components/schemas/RoleItemDto"}},"required":["statusCode","message","data"]},"RoleListData":{"type":"object","properties":{"items":{"type":"array","items":{"$ref":"#/components/schemas/RoleItemDto"}},"meta":{"$ref":"#/components/schemas/PaginationMetaDto"}},"required":["items","meta"]},"GetRolesResponseDto":{"type":"object","properties":{"statusCode":{"type":"number","example":200},"message":{"type":"string","example":"Fetch list Role with paginate"},"data":{"$ref":"#/components/schemas/RoleListData"}},"required":["statusCode","message","data"]},"GetRoleResponseDto":{"type":"object","properties":{"statusCode":{"type":"number","example":200},"message":{"type":"string","example":"Fetch Role by id"},"data":{"$ref":"#/components/schemas/RoleItemDto"}},"required":["statusCode","message","data"]},"UpdateRoleDto":{"type":"object","properties":{"name":{"type":"string","example":"moderator"},"description":{"type":"string","example":"Moderator role"},"permissions":{"example":["60d0fe4f5311236168a109ca"],"type":"array","items":{"type":"string"}},"isActive":{"type":"boolean","example":true}}},"UpdateRoleResponseDto":{"type":"object","properties":{"statusCode":{"type":"number","example":200},"message":{"type":"string","example":"Update a Role"},"data":{"$ref":"#/components/schemas/RoleItemDto"}},"required":["statusCode","message","data"]},"DeleteRoleResponseDto":{"type":"object","properties":{"statusCode":{"type":"number","example":200},"message":{"type":"string","example":"Delete a Role"},"data":{"$ref":"#/components/schemas/RoleItemDto"}},"required":["statusCode","message","data"]},"CreatePermissionDto":{"type":"object","properties":{"name":{"type":"string","example":"Create User"},"apiPath":{"type":"string","example":"/api/v1/users"},"method":{"type":"string","example":"POST"},"module":{"type":"string","example":"users"},"description":{"type":"string","example":"Permission to create a user"},"isActive":{"type":"boolean","example":true}},"required":["name","apiPath","method","module"]},"PermissionItemDto":{"type":"object","properties":{"_id":{"type":"string","example":"60d0fe4f5311236168a109ca"},"name":{"type":"string","example":"Create User"},"apiPath":{"type":"string","example":"/api/v1/users"},"method":{"type":"string","example":"POST"},"module":{"type":"string","example":"users"},"description":{"type":"string","example":"Permission to create a user"},"createdBy":{"type":"string","example":"60d0fe4f5311236168a109cc"},"updatedBy":{"type":"string","example":"60d0fe4f5311236168a109cc"},"isActive":{"type":"boolean","example":true},"isDeleted":{"type":"boolean","example":false},"createdAt":{"format":"date-time","type":"string","example":"2026-01-01T00:00:00.000Z"},"updatedAt":{"format":"date-time","type":"string","example":"2026-01-01T00:00:00.000Z"}},"required":["_id","name","apiPath","method","module","description","createdBy","updatedBy","isActive","isDeleted","createdAt","updatedAt"]},"CreatePermissionResponseDto":{"type":"object","properties":{"statusCode":{"type":"number","example":201},"message":{"type":"string","example":"Create a new Permission"},"data":{"$ref":"#/components/schemas/PermissionItemDto"}},"required":["statusCode","message","data"]},"PermissionListData":{"type":"object","properties":{"items":{"type":"array","items":{"$ref":"#/components/schemas/PermissionItemDto"}},"meta":{"$ref":"#/components/schemas/PaginationMetaDto"}},"required":["items","meta"]},"GetPermissionsResponseDto":{"type":"object","properties":{"statusCode":{"type":"number","example":200},"message":{"type":"string","example":"Fetch list Permission with paginate"},"data":{"$ref":"#/components/schemas/PermissionListData"}},"required":["statusCode","message","data"]},"GetPermissionResponseDto":{"type":"object","properties":{"statusCode":{"type":"number","example":200},"message":{"type":"string","example":"Fetch Permission by id"},"data":{"$ref":"#/components/schemas/PermissionItemDto"}},"required":["statusCode","message","data"]},"UpdatePermissionDto":{"type":"object","properties":{"name":{"type":"string","example":"Create User"},"apiPath":{"type":"string","example":"/api/v1/users"},"method":{"type":"string","example":"POST"},"module":{"type":"string","example":"users"},"description":{"type":"string","example":"Permission to create a user"},"isActive":{"type":"boolean","example":true}}},"UpdatePermissionResponseDto":{"type":"object","properties":{"statusCode":{"type":"number","example":200},"message":{"type":"string","example":"Update a Permission"},"data":{"$ref":"#/components/schemas/PermissionItemDto"}},"required":["statusCode","message","data"]},"DeletePermissionResponseDto":{"type":"object","properties":{"statusCode":{"type":"number","example":200},"message":{"type":"string","example":"Delete a Permission"},"data":{"$ref":"#/components/schemas/PermissionItemDto"}},"required":["statusCode","message","data"]},"CreateCustomerDto":{"type":"object","properties":{"name":{"type":"string","example":"Nguyễn Văn A"},"payment":{"type":"number","example":0,"description":"Số tiền khách nợ hoặc trả thừa"},"note":{"type":"string","example":"Khách VIP"}},"required":["name"]},"CustomerItemDto":{"type":"object","properties":{"_id":{"type":"string","example":"60d0fe4f5311236168a109ca"},"name":{"type":"string","example":"Nguyễn Văn A"},"payment":{"type":"number","example":0,"description":"Âm = nợ, dương = trả thừa"},"note":{"type":"string","example":"Khách VIP"},"createdBy":{"type":"string","example":"60d0fe4f5311236168a109cc"},"updatedBy":{"type":"string","example":"60d0fe4f5311236168a109cc"},"isDeleted":{"type":"boolean","example":false},"createdAt":{"type":"string","example":"2026-01-01T00:00:00.000Z"},"updatedAt":{"type":"string","example":"2026-01-01T00:00:00.000Z"}},"required":["_id","name","payment","note","createdBy","updatedBy","isDeleted","createdAt","updatedAt"]},"CreateCustomerResponseDto":{"type":"object","properties":{"statusCode":{"type":"number","example":201},"message":{"type":"string","example":"Create a new Customer"},"data":{"$ref":"#/components/schemas/CustomerItemDto"}},"required":["statusCode","message","data"]},"CustomerListData":{"type":"object","properties":{"items":{"type":"array","items":{"$ref":"#/components/schemas/CustomerItemDto"}},"meta":{"$ref":"#/components/schemas/PaginationMetaDto"}},"required":["items","meta"]},"GetCustomersResponseDto":{"type":"object","properties":{"statusCode":{"type":"number","example":200},"message":{"type":"string","example":"Fetch list Customer with paginate"},"data":{"$ref":"#/components/schemas/CustomerListData"}},"required":["statusCode","message","data"]},"GetCustomerResponseDto":{"type":"object","properties":{"statusCode":{"type":"number","example":200},"message":{"type":"string","example":"Fetch Customer by id"},"data":{"$ref":"#/components/schemas/CustomerItemDto"}},"required":["statusCode","message","data"]},"UpdateCustomerDto":{"type":"object","properties":{"name":{"type":"string","example":"Nguyễn Văn B"},"payment":{"type":"number","example":100,"description":"Số tiền khách nợ hoặc trả thừa"},"note":{"type":"string","example":"Khách VIP"}}},"UpdateCustomerResponseDto":{"type":"object","properties":{"statusCode":{"type":"number","example":200},"message":{"type":"string","example":"Update a Customer"},"data":{"$ref":"#/components/schemas/CustomerItemDto"}},"required":["statusCode","message","data"]},"DeleteCustomerResponseDto":{"type":"object","properties":{"statusCode":{"type":"number","example":200},"message":{"type":"string","example":"Delete a Customer"},"data":{"type":"string","example":null,"nullable":true}},"required":["statusCode","message","data"]},"CreateWarehouseDto":{"type":"object","properties":{"inches":{"type":"number","example":14,"enum":[6,8,10,12,14,16,18,20,22,24,26,28,30]},"item":{"type":"string","example":"CLOSURE","enum":["CLOSURE","FRONTAL","WEFT"]},"quality":{"type":"string","example":"SDD","enum":["SDD","DD","VIP","SINGLEDONOR","2X4","2X4 SINGLEDONOR","2X6","2X6 SINGLEDONOR","5X5","5X5 HD","5X5 SINGLEDONOR","5X5 SINGLEDONOR HD","13X4","13X4 HD","13X6","13X6 HD"]},"style":{"type":"string","example":"BONESTRAIGHT","enum":["BONESTRAIGHT","BONESTRAIGHT LỖI","BOUNCE","EGG LỖI","EGGCURLS"]},"color":{"type":"string","example":"NATURAL","enum":["NATURAL","BROWN COPPER","BURGUNDY","GREY","PIANO RED","BURGUNDYN","BROWN TIP","BROWN CŨ","BROWN LẪN"]},"totalAmount":{"type":"number","example":100,"description":"Tổng số lượng"},"unitOfCalculation":{"type":"string","example":"Kg","enum":["Kg","Pcs"]},"priceHigh":{"type":"number","example":500,"description":"Giá cao"},"priceLow":{"type":"number","example":300,"description":"Giá thấp"},"sale":{"type":"number","example":0,"description":"Giảm giá"}},"required":["inches","item","quality","style","color","totalAmount","unitOfCalculation"]},"WarehouseItemDto":{"type":"object","properties":{"_id":{"type":"string","example":"60d0fe4f5311236168a109ca"},"inches":{"type":"number","example":14},"item":{"type":"string","example":"CLOSURE"},"quality":{"type":"string","example":"SDD"},"style":{"type":"string","example":"BONESTRAIGHT"},"color":{"type":"string","example":"NATURAL"},"totalAmount":{"type":"number","example":100},"amountOccupied":{"type":"number","example":10},"amountAvailable":{"type":"number","example":90},"unitOfCalculation":{"type":"string","example":"Kg"},"priceHigh":{"type":"number","example":500},"priceLow":{"type":"number","example":300},"sale":{"type":"number","example":0},"createdBy":{"type":"string","example":"60d0fe4f5311236168a109cc"},"updatedBy":{"type":"string","example":"60d0fe4f5311236168a109cc"},"isDeleted":{"type":"boolean","example":false},"createdAt":{"type":"string","example":"2026-01-01T00:00:00.000Z"},"updatedAt":{"type":"string","example":"2026-01-01T00:00:00.000Z"}},"required":["_id","inches","item","quality","style","color","totalAmount","amountOccupied","amountAvailable","unitOfCalculation","priceHigh","priceLow","sale","createdBy","updatedBy","isDeleted","createdAt","updatedAt"]},"CreateWarehouseResponseDto":{"type":"object","properties":{"statusCode":{"type":"number","example":201},"message":{"type":"string","example":"Create a new Warehouse"},"data":{"$ref":"#/components/schemas/WarehouseItemDto"}},"required":["statusCode","message","data"]},"WarehouseListData":{"type":"object","properties":{"items":{"type":"array","items":{"$ref":"#/components/schemas/WarehouseItemDto"}},"meta":{"$ref":"#/components/schemas/PaginationMetaDto"}},"required":["items","meta"]},"GetWarehousesResponseDto":{"type":"object","properties":{"statusCode":{"type":"number","example":200},"message":{"type":"string","example":"Fetch list Warehouse with paginate"},"data":{"$ref":"#/components/schemas/WarehouseListData"}},"required":["statusCode","message","data"]},"GetWarehouseResponseDto":{"type":"object","properties":{"statusCode":{"type":"number","example":200},"message":{"type":"string","example":"Fetch Warehouse by id"},"data":{"$ref":"#/components/schemas/WarehouseItemDto"}},"required":["statusCode","message","data"]},"UpdateWarehouseDto":{"type":"object","properties":{"inches":{"type":"number","example":14,"enum":[6,8,10,12,14,16,18,20,22,24,26,28,30]},"item":{"type":"string","example":"CLOSURE","enum":["CLOSURE","FRONTAL","WEFT"]},"quality":{"type":"string","example":"SDD","enum":["SDD","DD","VIP","SINGLEDONOR","2X4","2X4 SINGLEDONOR","2X6","2X6 SINGLEDONOR","5X5","5X5 HD","5X5 SINGLEDONOR","5X5 SINGLEDONOR HD","13X4","13X4 HD","13X6","13X6 HD"]},"style":{"type":"string","example":"BONESTRAIGHT","enum":["BONESTRAIGHT","BONESTRAIGHT LỖI","BOUNCE","EGG LỖI","EGGCURLS"]},"color":{"type":"string","example":"NATURAL","enum":["NATURAL","BROWN COPPER","BURGUNDY","GREY","PIANO RED","BURGUNDYN","BROWN TIP","BROWN CŨ","BROWN LẪN"]},"totalAmount":{"type":"number","example":100,"description":"Tổng số lượng"},"amountOccupied":{"type":"number","example":0,"description":"Số lượng chiếm dụng"},"amountAvailable":{"type":"number","example":100,"description":"Số lượng khả dụng"},"unitOfCalculation":{"type":"string","example":"Kg","enum":["Kg","Pcs"]},"priceHigh":{"type":"number","example":500,"description":"Giá cao"},"priceLow":{"type":"number","example":300,"description":"Giá thấp"},"sale":{"type":"number","example":0,"description":"Giảm giá"}}},"UpdateWarehouseResponseDto":{"type":"object","properties":{"statusCode":{"type":"number","example":200},"message":{"type":"string","example":"Update a Warehouse"},"data":{"$ref":"#/components/schemas/WarehouseItemDto"}},"required":["statusCode","message","data"]},"AddStockBodyDto":{"type":"object","properties":{"id":{"type":"string","example":"60d0fe4f5311236168a109ca","description":"ID của hàng hóa (warehouse) cần bổ sung"},"quantity":{"type":"number","example":50,"description":"Số lượng hàng hóa cần thêm"},"note":{"type":"string","example":"Nhập hàng từ nhà cung cấp ABC","description":"Ghi chú về việc bổ sung hàng hóa"}},"required":["id","quantity"]},"AddStockResponseDto":{"type":"object","properties":{"statusCode":{"type":"number","example":200},"message":{"type":"string","example":"Add stock to Warehouse"},"data":{"$ref":"#/components/schemas/WarehouseItemDto"}},"required":["statusCode","message","data"]},"DeleteWarehouseResponseDto":{"type":"object","properties":{"statusCode":{"type":"number","example":200},"message":{"type":"string","example":"Delete a Warehouse"},"data":{"type":"string","example":null,"nullable":true}},"required":["statusCode","message","data"]},"HistoryEnterMetadataDto":{"type":"object","properties":{"totalAmount":{"type":"number","example":100,"description":"Tổng số lượng (khi type = Tạo mới)"},"priceHigh":{"type":"number","example":500,"description":"Giá cao (khi type = Tạo mới)"},"priceLow":{"type":"number","example":300,"description":"Giá thấp (khi type = Tạo mới)"},"sale":{"type":"number","example":0,"description":"Giảm giá (khi type = Tạo mới)"},"quantity":{"type":"number","example":50,"description":"Số lượng nhập thêm (khi type = nhập thêm hàng)"},"quantityRevert":{"type":"number","example":10,"description":"Số lượng hoàn đơn (khi type = hoàn đơn)"},"orderId":{"type":"string","example":"60d0fe4f5311236168a109ca","description":"Id đơn hàng bị hoàn (khi type = hoàn đơn)"},"priceHighNew":{"type":"number","example":600,"description":"Giá cao mới (khi type = sửa giá)"},"priceHighOld":{"type":"number","example":500,"description":"Giá cao cũ (khi type = sửa giá)"},"priceLowNew":{"type":"number","example":400,"description":"Giá thấp mới (khi type = sửa giá)"},"priceLowOld":{"type":"number","example":300,"description":"Giá thấp cũ (khi type = sửa giá)"},"saleNew":{"type":"number","example":10,"description":"Sale mới (khi type = sửa giá)"},"saleOld":{"type":"number","example":0,"description":"Sale cũ (khi type = sửa giá)"}}},"CreateHistoryEnterDto":{"type":"object","properties":{"warehouseId":{"type":"string","example":"60d0fe4f5311236168a109ca","description":"Id warehouse"},"item":{"type":"string","example":"CLOSURE","description":"Item từ warehouse"},"inches":{"type":"number","example":14,"description":"Inches từ warehouse"},"quality":{"type":"string","example":"SDD","description":"Quality từ warehouse"},"style":{"type":"string","example":"BONESTRAIGHT","description":"Style từ warehouse"},"color":{"type":"string","example":"NATURAL","description":"Color từ warehouse"},"type":{"type":"string","example":"Tạo mới","enum":["Tạo mới","Nhập thêm hàng","Hoàn đơn","Sửa giá","Xóa"],"description":"Loại nhập kho"},"metadata":{"description":"Metadata theo từng loại type","allOf":[{"$ref":"#/components/schemas/HistoryEnterMetadataDto"}]},"note":{"type":"string","example":"Ghi chú","description":"Ghi chú"}},"required":["warehouseId","item","inches","quality","style","color","type","metadata"]},"HistoryEnterMetadataSwaggerDto":{"type":"object","properties":{"totalAmount":{"type":"number","example":100},"priceHigh":{"type":"number","example":500},"priceLow":{"type":"number","example":300},"sale":{"type":"number","example":0},"quantity":{"type":"number","example":50},"quantityRevert":{"type":"number","example":10},"orderId":{"type":"string","example":"60d0fe4f5311236168a109ca","description":"ID order (string) hoặc object order khi được populate. Có thể là string hoặc OrderRefDto object."},"priceHighNew":{"type":"number","example":600},"priceHighOld":{"type":"number","example":500},"priceLowNew":{"type":"number","example":400},"priceLowOld":{"type":"number","example":300},"saleNew":{"type":"number","example":10},"saleOld":{"type":"number","example":0}}},"HistoryEnterDetailDto":{"type":"object","properties":{"_id":{"type":"string","example":"60d0fe4f5311236168a109ca"},"warehouseId":{"type":"string","example":"60d0fe4f5311236168a109cb","description":"ID warehouse (string) hoặc object warehouse khi được populate. Có thể là string hoặc WarehouseRefDto object."},"item":{"type":"string","example":"CLOSURE"},"inches":{"type":"number","example":14},"quality":{"type":"string","example":"SDD"},"style":{"type":"string","example":"BONESTRAIGHT"},"color":{"type":"string","example":"NATURAL"},"type":{"type":"string","example":"Tạo mới"},"metadata":{"$ref":"#/components/schemas/HistoryEnterMetadataSwaggerDto"},"note":{"type":"string","example":"Ghi chú"},"createdBy":{"type":"string","example":"60d0fe4f5311236168a109cc"},"updatedBy":{"type":"string","example":"60d0fe4f5311236168a109cc"},"isDeleted":{"type":"boolean","example":false},"createdAt":{"type":"string","example":"2026-01-01T00:00:00.000Z"},"updatedAt":{"type":"string","example":"2026-01-01T00:00:00.000Z"}},"required":["_id","warehouseId","item","inches","quality","style","color","type","metadata","createdBy","updatedBy","isDeleted","createdAt","updatedAt"]},"CreateHistoryEnterResponseDto":{"type":"object","properties":{"statusCode":{"type":"number","example":201},"message":{"type":"string","example":"Create a new History Enter"},"data":{"$ref":"#/components/schemas/HistoryEnterDetailDto"}},"required":["statusCode","message","data"]},"HistoryEnterListData":{"type":"object","properties":{"items":{"type":"array","items":{"$ref":"#/components/schemas/HistoryEnterDetailDto"}},"meta":{"$ref":"#/components/schemas/PaginationMetaDto"}},"required":["items","meta"]},"GetHistoryEntersResponseDto":{"type":"object","properties":{"statusCode":{"type":"number","example":200},"message":{"type":"string","example":"Fetch list History Enter with paginate"},"data":{"$ref":"#/components/schemas/HistoryEnterListData"}},"required":["statusCode","message","data"]},"GetHistoryEnterResponseDto":{"type":"object","properties":{"statusCode":{"type":"number","example":200},"message":{"type":"string","example":"Fetch History Enter by id"},"data":{"$ref":"#/components/schemas/HistoryEnterDetailDto"}},"required":["statusCode","message","data"]},"UpdateHistoryEnterDto":{"type":"object","properties":{"warehouseId":{"type":"string","example":"60d0fe4f5311236168a109ca"},"item":{"type":"string","example":"CLOSURE"},"inches":{"type":"number","example":14},"quality":{"type":"string","example":"SDD"},"style":{"type":"string","example":"BONESTRAIGHT"},"color":{"type":"string","example":"NATURAL"},"type":{"type":"string","example":"Tạo mới","enum":["Tạo mới","Nhập thêm hàng","Hoàn đơn","Sửa giá","Xóa"]},"metadata":{"$ref":"#/components/schemas/HistoryEnterMetadataDto"},"note":{"type":"string","example":"Ghi chú"}}},"UpdateHistoryEnterResponseDto":{"type":"object","properties":{"statusCode":{"type":"number","example":200},"message":{"type":"string","example":"Update a History Enter"},"data":{"$ref":"#/components/schemas/HistoryEnterDetailDto"}},"required":["statusCode","message","data"]},"DeleteHistoryEnterResponseDto":{"type":"object","properties":{"statusCode":{"type":"number","example":200},"message":{"type":"string","example":"Delete a History Enter"},"data":{"type":"string","example":null,"nullable":true}},"required":["statusCode","message","data"]},"CreateHistoryExportDto":{"type":"object","properties":{"warehouseId":{"type":"string","example":"60d0fe4f5311236168a109ca","description":"Id warehouse"},"item":{"type":"string","example":"CLOSURE","description":"Item từ warehouse"},"inches":{"type":"number","example":14,"description":"Inches từ warehouse"},"quality":{"type":"string","example":"SDD","description":"Quality từ warehouse"},"style":{"type":"string","example":"BONESTRAIGHT","description":"Style từ warehouse"},"color":{"type":"string","example":"NATURAL","description":"Color từ warehouse"},"priceHigh":{"type":"number","example":500,"description":"Giá cao từ warehouse"},"priceLow":{"type":"number","example":300,"description":"Giá thấp từ warehouse"},"sale":{"type":"number","example":0,"description":"Giảm giá từ warehouse"},"orderId":{"type":"string","example":"60d0fe4f5311236168a109cb","description":"Id đơn hàng"},"type":{"type":"string","example":"cao","enum":["cao","thấp"],"description":"Loại đơn theo giá cao hoặc giá thấp"},"priceOrder":{"type":"number","example":500,"description":"Giá bán của đơn hàng lúc đó"},"saleOrder":{"type":"number","example":0,"description":"Giá sale của đơn hàng lúc đó"},"quantityOrder":{"type":"number","example":10,"description":"Tổng số lượng bán của đơn hàng lúc đó"},"stateOrder":{"type":"string","example":"Khách trả","enum":["Khách trả","Hoàn đơn"],"description":"Trạng thái đơn hàng: Khách trả | hoàn đơn"},"paymentOrder":{"type":"number","example":5000,"description":"Số tiền khách vừa trả (giá trị dương), số tiền vừa hoàn đơn (giá trị âm)"},"note":{"type":"string","example":"Ghi chú","description":"Ghi chú"}},"required":["warehouseId","item","inches","quality","style","color","priceHigh","priceLow","sale","orderId","type","priceOrder","saleOrder","quantityOrder","stateOrder","paymentOrder"]},"HistoryExportDetailDto":{"type":"object","properties":{"_id":{"type":"string","example":"60d0fe4f5311236168a109ca"},"warehouseId":{"type":"string","example":"60d0fe4f5311236168a109cb","description":"ID warehouse (string) hoặc object warehouse khi được populate. Có thể là string hoặc WarehouseRefDto object."},"item":{"type":"string","example":"CLOSURE"},"inches":{"type":"number","example":14},"quality":{"type":"string","example":"SDD"},"style":{"type":"string","example":"BONESTRAIGHT"},"color":{"type":"string","example":"NATURAL"},"priceHigh":{"type":"number","example":500},"priceLow":{"type":"number","example":300},"sale":{"type":"number","example":0},"orderId":{"type":"string","example":"60d0fe4f5311236168a109cd","description":"ID order (string) hoặc object order khi được populate. Có thể là string hoặc OrderRefDto object."},"type":{"type":"string","example":"cao"},"priceOrder":{"type":"number","example":500},"saleOrder":{"type":"number","example":0},"quantityOrder":{"type":"number","example":10},"stateOrder":{"type":"string","example":"Khách trả"},"paymentOrder":{"type":"number","example":5000},"note":{"type":"string","example":"Ghi chú"},"createdBy":{"type":"string","example":"60d0fe4f5311236168a109cc"},"updatedBy":{"type":"string","example":"60d0fe4f5311236168a109cc"},"isDeleted":{"type":"boolean","example":false},"createdAt":{"type":"string","example":"2026-01-01T00:00:00.000Z"},"updatedAt":{"type":"string","example":"2026-01-01T00:00:00.000Z"}},"required":["_id","warehouseId","item","inches","quality","style","color","priceHigh","priceLow","sale","orderId","type","priceOrder","saleOrder","quantityOrder","stateOrder","paymentOrder","createdBy","updatedBy","isDeleted","createdAt","updatedAt"]},"CreateHistoryExportResponseDto":{"type":"object","properties":{"statusCode":{"type":"number","example":201},"message":{"type":"string","example":"Create a new History Export"},"data":{"$ref":"#/components/schemas/HistoryExportDetailDto"}},"required":["statusCode","message","data"]},"HistoryExportListData":{"type":"object","properties":{"items":{"type":"array","items":{"$ref":"#/components/schemas/HistoryExportDetailDto"}},"meta":{"$ref":"#/components/schemas/PaginationMetaDto"}},"required":["items","meta"]},"GetHistoryExportsResponseDto":{"type":"object","properties":{"statusCode":{"type":"number","example":200},"message":{"type":"string","example":"Fetch list History Export with paginate"},"data":{"$ref":"#/components/schemas/HistoryExportListData"}},"required":["statusCode","message","data"]},"GetHistoryExportResponseDto":{"type":"object","properties":{"statusCode":{"type":"number","example":200},"message":{"type":"string","example":"Fetch History Export by id"},"data":{"$ref":"#/components/schemas/HistoryExportDetailDto"}},"required":["statusCode","message","data"]},"UpdateHistoryExportDto":{"type":"object","properties":{"warehouseId":{"type":"string","example":"60d0fe4f5311236168a109ca"},"item":{"type":"string","example":"CLOSURE"},"inches":{"type":"number","example":14},"quality":{"type":"string","example":"SDD"},"style":{"type":"string","example":"BONESTRAIGHT"},"color":{"type":"string","example":"NATURAL"},"priceHigh":{"type":"number","example":500},"priceLow":{"type":"number","example":300},"sale":{"type":"number","example":0},"orderId":{"type":"string","example":"60d0fe4f5311236168a109cb"},"type":{"type":"string","example":"cao","enum":["cao","thấp"]},"priceOrder":{"type":"number","example":500},"saleOrder":{"type":"number","example":0},"quantityOrder":{"type":"number","example":10},"stateOrder":{"type":"string","example":"Khách trả","enum":["Khách trả","Hoàn đơn"]},"paymentOrder":{"type":"number","example":5000},"note":{"type":"string","example":"Ghi chú"}}},"UpdateHistoryExportResponseDto":{"type":"object","properties":{"statusCode":{"type":"number","example":200},"message":{"type":"string","example":"Update a History Export"},"data":{"$ref":"#/components/schemas/HistoryExportDetailDto"}},"required":["statusCode","message","data"]},"DeleteHistoryExportResponseDto":{"type":"object","properties":{"statusCode":{"type":"number","example":200},"message":{"type":"string","example":"Delete a History Export"},"data":{"type":"string","example":null,"nullable":true}},"required":["statusCode","message","data"]},"CreateOrderItemDto":{"type":"object","properties":{"id":{"type":"string","example":"60d0fe4f5311236168a109ca","description":"ID warehouse"},"quantity":{"type":"number","example":5,"description":"Số lượng"},"price":{"type":"number","example":100,"description":"Đơn giá"},"sale":{"type":"number","example":0,"description":"Giảm giá"},"customPrice":{"type":"boolean","example":false},"customSale":{"type":"boolean","example":false}},"required":["id","quantity","price"]},"CreateOrderProductDto":{"type":"object","properties":{"nameSet":{"type":"string","example":"Set A"},"priceSet":{"type":"number","example":500,"description":"Giá set"},"quantitySet":{"type":"number","example":1,"description":"Số lượng set"},"saleSet":{"type":"number","example":0,"description":"Giảm giá set"},"isCalcSet":{"type":"boolean","example":false},"items":{"type":"array","items":{"$ref":"#/components/schemas/CreateOrderItemDto"}}},"required":["items"]},"CreateOrderDto":{"type":"object","properties":{"type":{"type":"string","example":"cao","enum":["cao","thấp"],"description":"Loại đơn theo giá cao hoặc giá thấp"},"exchangeRate":{"type":"number","example":1600,"description":"Tỷ giá"},"customer":{"type":"string","example":"60d0fe4f5311236168a109ca","description":"ID khách hàng"},"note":{"type":"string","example":"Ghi chú đơn hàng"},"products":{"type":"array","items":{"$ref":"#/components/schemas/CreateOrderProductDto"}}},"required":["type","exchangeRate","customer","products"]},"OrderCustomerRefDto":{"type":"object","properties":{"_id":{"type":"string","example":"60d0fe4f5311236168a109cb"},"name":{"type":"string","example":"Nguyễn Văn A"}},"required":["_id","name"]},"OrderItemSwaggerDto":{"type":"object","properties":{"id":{"type":"string","example":"60d0fe4f5311236168a109ca"},"quantity":{"type":"number","example":5},"price":{"type":"number","example":100},"sale":{"type":"number","example":0},"customPrice":{"type":"boolean","example":false},"customSale":{"type":"boolean","example":false}},"required":["id","quantity","price","sale","customPrice","customSale"]},"OrderProductSwaggerDto":{"type":"object","properties":{"nameSet":{"type":"string","example":"Set A"},"priceSet":{"type":"number","example":500},"quantitySet":{"type":"number","example":1},"saleSet":{"type":"number","example":0},"isCalcSet":{"type":"boolean","example":false},"items":{"type":"array","items":{"$ref":"#/components/schemas/OrderItemSwaggerDto"}}},"required":["nameSet","priceSet","quantitySet","saleSet","isCalcSet","items"]},"OrderHistorySwaggerDto":{"type":"object","properties":{"type":{"type":"string","example":"khách trả"},"exchangeRate":{"type":"number","example":1600},"moneyPaidNGN":{"type":"number","example":50000},"moneyPaidDolar":{"type":"number","example":31.25},"paymentMethod":{"type":"string","example":"Chuyển khoản"},"datePaid":{"format":"date-time","type":"string","example":"2026-02-15T11:51:00.000Z"},"note":{"type":"string","example":"Ghi chú"}},"required":["type","exchangeRate","moneyPaidNGN","moneyPaidDolar","paymentMethod","datePaid","note"]},"OrderDetailDto":{"type":"object","properties":{"_id":{"type":"string","example":"60d0fe4f5311236168a109ca"},"type":{"type":"string","example":"cao","description":"Loại đơn theo giá cao hoặc giá thấp"},"state":{"type":"string","example":"Báo giá","description":"Trạng thái đơn hàng: Báo giá | Đã chốt | Chỉnh sửa | Hoàn tác | Đã xong"},"exchangeRate":{"type":"number","example":1600},"customer":{"$ref":"#/components/schemas/OrderCustomerRefDto"},"totalPrice":{"type":"number","example":500},"payment":{"type":"number","example":-500},"note":{"type":"string","example":"Ghi chú"},"products":{"type":"array","items":{"$ref":"#/components/schemas/OrderProductSwaggerDto"}},"history":{"type":"array","items":{"$ref":"#/components/schemas/OrderHistorySwaggerDto"}},"createdBy":{"type":"string","example":"60d0fe4f5311236168a109cc"},"updatedBy":{"type":"string","example":"60d0fe4f5311236168a109cc"},"isDeleted":{"type":"boolean","example":false},"createdAt":{"type":"string","example":"2026-01-01T00:00:00.000Z"},"updatedAt":{"type":"string","example":"2026-01-01T00:00:00.000Z"}},"required":["_id","type","state","exchangeRate","customer","totalPrice","payment","note","products","history","createdBy","updatedBy","isDeleted","createdAt","updatedAt"]},"CreateOrderResponseDto":{"type":"object","properties":{"statusCode":{"type":"number","example":201},"message":{"type":"string","example":"Create a new Order"},"data":{"$ref":"#/components/schemas/OrderDetailDto"}},"required":["statusCode","message","data"]},"OrderListData":{"type":"object","properties":{"items":{"type":"array","items":{"$ref":"#/components/schemas/OrderDetailDto"}},"meta":{"$ref":"#/components/schemas/PaginationMetaDto"}},"required":["items","meta"]},"GetOrdersResponseDto":{"type":"object","properties":{"statusCode":{"type":"number","example":200},"message":{"type":"string","example":"Fetch list Order with paginate"},"data":{"$ref":"#/components/schemas/OrderListData"}},"required":["statusCode","message","data"]},"GetOrderResponseDto":{"type":"object","properties":{"statusCode":{"type":"number","example":200},"message":{"type":"string","example":"Fetch Order by id"},"data":{"$ref":"#/components/schemas/OrderDetailDto"}},"required":["statusCode","message","data"]},"UpdateOrderProductDto":{"type":"object","properties":{"nameSet":{"type":"string","example":"Set A"},"priceSet":{"type":"number","example":500},"quantitySet":{"type":"number","example":1},"saleSet":{"type":"number","example":0},"isCalcSet":{"type":"boolean","example":false},"items":{"type":"array","items":{"$ref":"#/components/schemas/CreateOrderItemDto"}}},"required":["items"]},"UpdateOrderDto":{"type":"object","properties":{"type":{"type":"string","example":"cao","enum":["cao","thấp"],"description":"Loại đơn theo giá cao hoặc giá thấp"},"exchangeRate":{"type":"number","example":1600},"customer":{"type":"string","example":"60d0fe4f5311236168a109ca"},"note":{"type":"string","example":"Ghi chú đơn hàng"},"products":{"type":"array","items":{"$ref":"#/components/schemas/UpdateOrderProductDto"}}}},"UpdateOrderResponseDto":{"type":"object","properties":{"statusCode":{"type":"number","example":200},"message":{"type":"string","example":"Update a Order"},"data":{"$ref":"#/components/schemas/OrderDetailDto"}},"required":["statusCode","message","data"]},"DeleteOrderResponseDto":{"type":"object","properties":{"statusCode":{"type":"number","example":200},"message":{"type":"string","example":"Delete a Order"},"data":{"type":"string","example":null,"nullable":true}},"required":["statusCode","message","data"]},"AddHistoryDto":{"type":"object","properties":{"type":{"type":"string","example":"khách trả","enum":["hoàn tiền","khách trả"]},"exchangeRate":{"type":"number","example":1600,"description":"Tỷ giá"},"moneyPaidNGN":{"type":"number","example":50000,"description":"Tiền theo đơn vị NGN"},"moneyPaidDolar":{"type":"number","example":31.25,"description":"Tiền theo đơn vị Dolar"},"paymentMethod":{"type":"string","example":"Chuyển khoản","enum":["Chuyển khoản","Tiền mặt","Thẻ","Khác"]},"datePaid":{"format":"date-time","type":"string","example":"2026-02-15T11:51:00.000Z","description":"Ngày trả (ISO 8601)"},"note":{"type":"string","example":"Ghi chú thanh toán"}},"required":["type","exchangeRate","moneyPaidNGN","moneyPaidDolar","paymentMethod","datePaid"]},"AddHistoryResponseDto":{"type":"object","properties":{"statusCode":{"type":"number","example":200},"message":{"type":"string","example":"Add history to Order"},"data":{"$ref":"#/components/schemas/OrderDetailDto"}},"required":["statusCode","message","data"]},"ConfirmOrderResponseDto":{"type":"object","properties":{"statusCode":{"type":"number","example":200},"message":{"type":"string","example":"Confirm Order"},"data":{"$ref":"#/components/schemas/OrderDetailDto"}},"required":["statusCode","message","data"]},"RevertOrderDto":{"type":"object","properties":{"note":{"type":"string","example":"Ghi chú hoàn tác đơn hàng","description":"Ghi chú khi hoàn tác đơn hàng (bắt buộc)"}},"required":["note"]},"RevertOrderResponseDto":{"type":"object","properties":{"statusCode":{"type":"number","example":200},"message":{"type":"string","example":"Revert Order"},"data":{"$ref":"#/components/schemas/OrderDetailDto"}},"required":["statusCode","message","data"]}}},"security":[{"token":[]}]}